{
  "summary": {
    "total_tests": 25,
    "passed_tests": 12,
    "failed_tests": 13,
    "success_rate": "48.0%",
    "stats_fix_success": false,
    "validation_fix_success": false,
    "working_functionality_success": true,
    "both_critical_fixes_working": false
  },
  "test_results": [
    {
      "test": "Backend Health Check",
      "passed": true,
      "details": "Backend is running. Status: healthy",
      "response_data": {
        "service": "fantasy-esports-backend",
        "status": "healthy",
        "version": "1.0.0"
      },
      "timestamp": "2025-08-04 14:59:05"
    },
    {
      "test": "Admin Login Authentication",
      "passed": true,
      "details": "\u2705 Admin login successful. Token obtained.",
      "response_data": {
        "status_code": 200,
        "has_token": true
      },
      "timestamp": "2025-08-04 14:59:06"
    },
    {
      "test": "Statistics Filter - No filters",
      "passed": false,
      "details": "\u274c STILL BROKEN: SQL syntax error not fixed - failed to get stats: pq: syntax error at or near \"$1\"",
      "response_data": {
        "status_code": 500,
        "params": {},
        "sql_error": true
      },
      "timestamp": "2025-08-04 14:59:06"
    },
    {
      "test": "Statistics Filter - Channel SMS filter",
      "passed": false,
      "details": "\u274c STILL BROKEN: SQL syntax error not fixed - failed to get stats: pq: syntax error at or near \"$1\"",
      "response_data": {
        "status_code": 500,
        "params": {
          "channel": "sms"
        },
        "sql_error": true
      },
      "timestamp": "2025-08-04 14:59:06"
    },
    {
      "test": "Statistics Filter - Channel Email filter",
      "passed": false,
      "details": "\u274c STILL BROKEN: SQL syntax error not fixed - failed to get stats: pq: syntax error at or near \"$1\"",
      "response_data": {
        "status_code": 500,
        "params": {
          "channel": "email"
        },
        "sql_error": true
      },
      "timestamp": "2025-08-04 14:59:07"
    },
    {
      "test": "Statistics Filter - Provider Fast2SMS filter",
      "passed": false,
      "details": "\u274c STILL BROKEN: SQL syntax error not fixed - failed to get stats: pq: syntax error at or near \"$1\"",
      "response_data": {
        "status_code": 500,
        "params": {
          "provider": "fast2sms"
        },
        "sql_error": true
      },
      "timestamp": "2025-08-04 14:59:07"
    },
    {
      "test": "Statistics Filter - Provider SMTP filter",
      "passed": false,
      "details": "\u274c STILL BROKEN: SQL syntax error not fixed - failed to get stats: pq: syntax error at or near \"$1\"",
      "response_data": {
        "status_code": 500,
        "params": {
          "provider": "smtp"
        },
        "sql_error": true
      },
      "timestamp": "2025-08-04 14:59:07"
    },
    {
      "test": "Statistics Filter - Combined channel=sms&provider=fast2sms",
      "passed": false,
      "details": "\u274c STILL BROKEN: SQL syntax error not fixed - failed to get stats: pq: syntax error at or near \"$1\"",
      "response_data": {
        "status_code": 500,
        "params": {
          "channel": "sms",
          "provider": "fast2sms"
        },
        "sql_error": true
      },
      "timestamp": "2025-08-04 14:59:07"
    },
    {
      "test": "Statistics Filter - Combined channel=email&provider=smtp",
      "passed": false,
      "details": "\u274c STILL BROKEN: SQL syntax error not fixed - failed to get stats: pq: syntax error at or near \"$1\"",
      "response_data": {
        "status_code": 500,
        "params": {
          "channel": "email",
          "provider": "smtp"
        },
        "sql_error": true
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Statistics Filter - Days=7 filter",
      "passed": false,
      "details": "\u274c STILL BROKEN: SQL syntax error not fixed - failed to get stats: pq: syntax error at or near \"$1\"",
      "response_data": {
        "status_code": 500,
        "params": {
          "days": "7"
        },
        "sql_error": true
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Statistics Filter - Days=30 filter",
      "passed": false,
      "details": "\u274c STILL BROKEN: SQL syntax error not fixed - failed to get stats: pq: syntax error at or near \"$1\"",
      "response_data": {
        "status_code": 500,
        "params": {
          "days": "30"
        },
        "sql_error": true
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Statistics Filter - Combined channel=sms&provider=fast2sms&days=7",
      "passed": false,
      "details": "\u274c STILL BROKEN: SQL syntax error not fixed - failed to get stats: pq: syntax error at or near \"$1\"",
      "response_data": {
        "status_code": 500,
        "params": {
          "channel": "sms",
          "provider": "fast2sms",
          "days": "7"
        },
        "sql_error": true
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Issue 1 - Statistics Filtering Fix Summary",
      "passed": false,
      "details": "\u274c 10/10 statistics filtering tests still failing (Success rate: 0/10)",
      "response_data": {
        "working_count": 0,
        "total_count": 10,
        "sql_fix_verified": false
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Single Validation - Invalid SMS recipient (too short)",
      "passed": true,
      "details": "\u2705 FIXED: Correct recipient validation error returned",
      "response_data": {
        "status_code": 400,
        "expected_error": "invalid phone number",
        "got_expected": true
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Single Validation - Invalid SMS recipient (bad format)",
      "passed": false,
      "details": "\u274c Unexpected validation error: invalid phone number format",
      "response_data": {
        "status_code": 400,
        "expected_error": "phone number should start with",
        "unexpected_error": "invalid phone number format"
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Single Validation - Invalid email recipient (no @)",
      "passed": true,
      "details": "\u2705 FIXED: Correct recipient validation error returned",
      "response_data": {
        "status_code": 400,
        "expected_error": "invalid email format",
        "got_expected": true
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Single Validation - Invalid email recipient (no .)",
      "passed": true,
      "details": "\u2705 FIXED: Correct recipient validation error returned",
      "response_data": {
        "status_code": 400,
        "expected_error": "invalid email format",
        "got_expected": true
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Single Validation - Invalid push token (too short)",
      "passed": true,
      "details": "\u2705 FIXED: Correct recipient validation error returned",
      "response_data": {
        "status_code": 400,
        "expected_error": "invalid push token",
        "got_expected": true
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Bulk Validation - Too many recipients (>1000)",
      "passed": true,
      "details": "\u2705 FIXED: Correct bulk validation error returned",
      "response_data": {
        "status_code": 400,
        "expected_error": "maximum 1000 recipients allowed",
        "got_expected": true
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Bulk Validation - Invalid recipient in bulk list",
      "passed": true,
      "details": "\u2705 FIXED: Correct bulk validation error returned",
      "response_data": {
        "status_code": 400,
        "expected_error": "invalid recipient",
        "got_expected": true
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Bulk Validation - Invalid email in bulk list",
      "passed": true,
      "details": "\u2705 FIXED: Correct bulk validation error returned",
      "response_data": {
        "status_code": 400,
        "expected_error": "invalid recipient",
        "got_expected": true
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Issue 2 - Enhanced Validation Fix Summary",
      "passed": false,
      "details": "\u274c 1/8 validation tests still failing (Single: 4/5, Bulk: 3/3)",
      "response_data": {
        "single_success": 4,
        "bulk_success": 3,
        "total_success": 7,
        "total_tests": 8,
        "validation_fix_verified": false
      },
      "timestamp": "2025-08-04 14:59:08"
    },
    {
      "test": "Working Endpoint - Get Templates",
      "passed": true,
      "details": "\u2705 Get Templates still working correctly (status: 200)",
      "response_data": {
        "status_code": 200,
        "endpoint": "/admin/templates"
      },
      "timestamp": "2025-08-04 14:59:09"
    },
    {
      "test": "Working Endpoint - Get Notification Config",
      "passed": true,
      "details": "\u2705 Get Notification Config still working correctly (status: 200)",
      "response_data": {
        "status_code": 200,
        "endpoint": "/admin/config/notifications"
      },
      "timestamp": "2025-08-04 14:59:09"
    },
    {
      "test": "Previously Working Functionality Summary",
      "passed": true,
      "details": "\u2705 All previously working endpoints still functional (Success rate: 2/2)",
      "response_data": {
        "success_count": 2,
        "total_count": 2
      },
      "timestamp": "2025-08-04 14:59:09"
    }
  ]
}